<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name='apple-itunes-app' content='app-id=1024484466'>
    <title>web页面跳转App</title>

    <script src="Scripts/jquery-1.11.1.min.js"></script>
</head>
<body>

<style type="text/css">
    .item {
        width: 100%;
        height: 80px;
        background-color: red;
        display: block;
        margin-bottom: 20px;
    }
</style>

<!--<div>
    <div>百度</div>

    <div class="item" onclick="window.location='http://www.baidu.com'">乐游宝 div location.href</div>

</div>-->

<div>
    <div>微信</div>

    <a class="item" href="weixin://">微信 a 直接href</a>
    <a class="item " href="" onclick="GoWeixin(this)">微信 a 方法</a>
    <div class="item weixintest" onclick="alert(112222);window.location = 'weixin://';">微信 div window.location</div>

</div>

<div>
    <div>乐游宝</div>

    <div class="item" onclick="window.location = 'https://itunes.apple.com/cn/app/id1024484466';">
        乐游宝 div 直接跳转ios应用商店下载
    </div>

    <div class="item" onclick="GoLeyoobao()">乐游宝 div location.href</div>

    <div class="item" onclick='window.open("http://a.app.qq.com/o/simple.jsp?pkgname=com.travel.maintab&g_f=991653");'>
        乐游宝 div window.open
    </div>

</div>

<div>

    <div>百度贴吧</div>

    <div class="item" onclick="GoBaiduTB()">百度贴吧 div location.href</div>

</div>

<div>
    <div>新浪微博</div>

    <div class="item" onclick="GoXLWeiBo()">新浪微博 div location.href</div>

</div>

<script>

    $(function () {

        document.getElementById('openApp').onclick = function (e) {
            // 通过iframe的方式试图打开APP，如果能正常打开，会直接切换到APP，并自动阻止js其他行为

            var ifr = document.createElement('iframe');
            ifr.src = 'com.baidu.tieba://';//打开app的协议，有app同事提供
            ifr.style.display = 'none';
            document.body.appendChild(ifr);
            window.setTimeout(function () {
                document.body.removeChild(ifr);
                window.location.href = "https://itunes.apple.com/cn/app/id477927812";//打开app下载地址，有app同事提供
            }, 2000)
        };

    });

    //进入微信
    function GoWeixin(self) {
        alert(1231)
        //$(this).attr('href', 'weixin://')
        $(self).attr("href", "weixin://")
    };

    //进入乐游宝
    function GoLeyoobao() {

        var loadDateTime = new Date();//
        //ios


        if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
            alert("ios")
            window.setTimeout(function () {
                var timeOutDateTime = new Date();
                if (timeOutDateTime - loadDateTime < 5000) {
                    alert(1)

                    window.location = "https://itunes.apple.com/cn/app/id1024484466";
                }
                else {
                    alert(2)
                    //window.close();
                }

            }, 3000);
            window.location = "leyoobao://";

        }
        //andorid
        else if (navigator.userAgent.match(/android/i)) {
            window.setTimeout(function () {

                window.location = "http://download.leyoobao.com/";

            }, 3000);

            window.location.href = "laofan://com.travel.maintab";
            //window.open("laofan://com.travel.maintab");

        }
        else {
            alert("123")
        }

    };

    //进入百度贴吧
    function GoBaiduTB() {

        //ios
        if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
            alert("ios_1");
            window.location = "com.baidu.tieba://";//ios app协议
//            window.location = "https://itunes.apple.com/cn/app/id477927812";
//            window.location = "https://www.baidu.com";

            window.setTimeout(function () {
                alert("ios_没安装");
                window.location = "https://itunes.apple.com/cn/app/id477927812";

            }, 3000);
        }
        //andorid
        else if (navigator.userAgent.match(/android/i)) {
            window.location = "com.baidu.tieba://app";//android app协议
            window.setTimeout(function () {

                alert("没安装");
//                window.location.href = "https://****.apk";//android 下载地址
            }, 3000);
        }
        else {
            alert("123")
        }

    };

    //进入 新浪微博
    function GoXLWeiBo() {
        //ios
        if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {

            var loadDateTime = new Date();//
            window.setTimeout(function () {
                var timeOutDateTime = new Date();
                if (timeOutDateTime - loadDateTime < 5000) {
                    alert("没安装")
                }
                else {

                }

            }, 2000);
            window.location = "sinaweibo://";

        }
        //andorid
        else if (navigator.userAgent.match(/android/i)) {
            window.setTimeout(function () {

                alert("没安装")

            }, 2000);

            window.location.href = "sinaweibo://";

        }
        else {
            alert("123")
        }

    };

</script>

</body>
</html>
